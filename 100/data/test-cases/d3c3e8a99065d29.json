{"uid":"d3c3e8a99065d29","name":"test_get_cart[api-12]","fullName":"tests.endpoints.test_cart#test_get_cart","historyId":"1bab4281fd9bee540784c3951486c1a4","time":{"start":1733146058070,"stop":1733146061811,"duration":3741},"status":"failed","statusMessage":"AssertionError: Amount in array doens't equal total amount: 0\nassert 5999 == 0\n +  where 0 = CartResponse(items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], total_price=0, user_uuid='77301ed2-d24f-4a73-9a64-180d1b88eed7').total_price","statusTrace":"api_client = <api_handler.api_client.ApiClient object at 0x7fd4c9a8cfb0>\nx_task_value = 'api-12'\n\n    @allure.feature(\"Cart API\")\n    @allure.story(\"Get cart\")\n    @pytest.mark.parametrize(\"x_task_value\", [\"api-12\"])\n    def test_get_cart(api_client, x_task_value):\n        games = api_client.get_games(x_task_value)\n        games_dto = GamesResponse(**games.json())\n        users_response = api_client.get_users(x_task_value, 0)\n        users_dto = Users(**users_response.json())\n    \n        user_uuid = users_dto.users[0].uuid\n        gamed_uuid = games_dto.games[0].uuid\n    \n        new_cart_item = Cart(item_uuid=gamed_uuid, quantity=1)\n    \n        api_client.add_to_cart(user_uuid, new_cart_item, x_task_value)\n    \n        response = api_client.get_cart(user_uuid, x_task_value)\n        order_dto = CartResponse(**response.json())\n        total_amount_array = sum(item.total_price for item in order_dto.items)\n>       assert total_amount_array == order_dto.total_price, f\"Amount in array doens't equal total amount: {order_dto.total_price}\"\nE       AssertionError: Amount in array doens't equal total amount: 0\nE       assert 5999 == 0\nE        +  where 0 = CartResponse(items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], total_price=0, user_uuid='77301ed2-d24f-4a73-9a64-180d1b88eed7').total_price\n\ntests/endpoints/test_cart.py:25: AssertionError","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1733146055504,"stop":1733146055505,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1733146055505,"stop":1733146055506,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_client","time":{"start":1733146055506,"stop":1733146055506,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"worker_id","time":{"start":1733146055506,"stop":1733146055506,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_test","time":{"start":1733146055506,"stop":1733146058069,"duration":2563},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Amount in array doens't equal total amount: 0\nassert 5999 == 0\n +  where 0 = CartResponse(items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], total_price=0, user_uuid='77301ed2-d24f-4a73-9a64-180d1b88eed7').total_price","statusTrace":"api_client = <api_handler.api_client.ApiClient object at 0x7fd4c9a8cfb0>\nx_task_value = 'api-12'\n\n    @allure.feature(\"Cart API\")\n    @allure.story(\"Get cart\")\n    @pytest.mark.parametrize(\"x_task_value\", [\"api-12\"])\n    def test_get_cart(api_client, x_task_value):\n        games = api_client.get_games(x_task_value)\n        games_dto = GamesResponse(**games.json())\n        users_response = api_client.get_users(x_task_value, 0)\n        users_dto = Users(**users_response.json())\n    \n        user_uuid = users_dto.users[0].uuid\n        gamed_uuid = games_dto.games[0].uuid\n    \n        new_cart_item = Cart(item_uuid=gamed_uuid, quantity=1)\n    \n        api_client.add_to_cart(user_uuid, new_cart_item, x_task_value)\n    \n        response = api_client.get_cart(user_uuid, x_task_value)\n        order_dto = CartResponse(**response.json())\n        total_amount_array = sum(item.total_price for item in order_dto.items)\n>       assert total_amount_array == order_dto.total_price, f\"Amount in array doens't equal total amount: {order_dto.total_price}\"\nE       AssertionError: Amount in array doens't equal total amount: 0\nE       assert 5999 == 0\nE        +  where 0 = CartResponse(items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], total_price=0, user_uuid='77301ed2-d24f-4a73-9a64-180d1b88eed7').total_price\n\ntests/endpoints/test_cart.py:25: AssertionError","steps":[],"attachments":[{"uid":"faa9f9206dea99b8","name":"log","source":"faa9f9206dea99b8.txt","type":"text/plain","size":4334},{"uid":"850acd65f627a67f","name":"stderr","source":"850acd65f627a67f.txt","type":"text/plain","size":4306}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_test::0","time":{"start":1733146074113,"stop":1733146074113,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"Get cart"},{"name":"feature","value":"Cart API"},{"name":"parentSuite","value":"tests.endpoints"},{"name":"suite","value":"test_cart"},{"name":"host","value":"fv-az1272-97"},{"name":"thread","value":"2889-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.endpoints.test_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"x_task_value","value":"'api-12'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":1,"skipped":0,"passed":3,"unknown":0,"total":7},"items":[{"uid":"b70b1644a4cf65d4","reportUrl":"https://ils-808.github.io/qahack/99//#testresult/b70b1644a4cf65d4","status":"broken","statusDetails":"pydantic_core._pydantic_core.ValidationError: 2 validation errors for Users\nusers\n  Field required [type=missing, input_value={'code': 500, 'message': 'Internal server error'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\nmeta\n  Field required [type=missing, input_value={'code': 500, 'message': 'Internal server error'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing","time":{"start":1733145939704,"stop":1733145941684,"duration":1980}},{"uid":"c30522a1372cce51","reportUrl":"https://ils-808.github.io/qahack/98//#testresult/c30522a1372cce51","status":"passed","time":{"start":1733145778712,"stop":1733145781961,"duration":3249}},{"uid":"a045ed11d2df0c8a","reportUrl":"https://ils-808.github.io/qahack/63//#testresult/a045ed11d2df0c8a","status":"passed","time":{"start":1733086105176,"stop":1733086108651,"duration":3475}},{"uid":"2539dbb5d9131533","reportUrl":"https://ils-808.github.io/qahack/62//#testresult/2539dbb5d9131533","status":"failed","statusDetails":"AssertionError: Amount in array doens't equal total amount: 0\nassert 5999 == 0\n +  where 0 = CartResponse(items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], total_price=0, user_uuid='6275c091-253f-4780-ab5f-e8f9c23ce8f4').total_price","time":{"start":1733084985438,"stop":1733084988790,"duration":3352}},{"uid":"1a2667331359d02c","reportUrl":"https://ils-808.github.io/qahack/61//#testresult/1a2667331359d02c","status":"failed","statusDetails":"AssertionError: Amount in array doens't equal total amount: 0\nassert 5999 == 0\n +  where 0 = CartResponse(items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], total_price=0, user_uuid='256995fa-7190-44fd-bc0c-bb16b5c924a1').total_price","time":{"start":1733084764400,"stop":1733084767513,"duration":3113}},{"uid":"6fe7e70f9101a80c","reportUrl":"https://ils-808.github.io/qahack/60//#testresult/6fe7e70f9101a80c","status":"passed","time":{"start":1733084482332,"stop":1733084486368,"duration":4036}}]},"tags":[]},"source":"d3c3e8a99065d29.json","parameterValues":["'api-12'"]}