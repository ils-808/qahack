{"uid":"4cbb0742e5094872","name":"test_orders_limit[api-17]","fullName":"tests.endpoints.test_orders#test_orders_limit","historyId":"4bd580a9b6026368cbcb285e5bb02c86","time":{"start":1733084321876,"stop":1733084327141,"duration":5265},"status":"failed","statusMessage":"AssertionError: Was displayed 2 orders instead of 1\nassert 2 == 1\n +  where 2 = len([Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='028d36a6-e360-4abc-b524-41908f58c3e5'), Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='7af93ce0-9ff5-4073-aca7-14fbd8596f4d')])\n +    where [Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='028d36a6-e360-4abc-b524-41908f58c3e5'), Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='7af93ce0-9ff5-4073-aca7-14fbd8596f4d')] = OrdersResponse(meta=Meta(total=2), orders=[Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='028d36a6-e360-4abc-b524-41908f58c3e5'), Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='7af93ce0-9ff5-4073-aca7-14fbd8596f4d')]).orders","statusTrace":"api_client = <api_handler.api_client.ApiClient object at 0x7fc9a7f75760>\nx_task_value = 'api-17'\n\n    @allure.feature(\"Orders API\")\n    @allure.story(\"Limit list user's orders\")\n    @pytest.mark.parametrize(\"x_task_value\", [\"api-17\"])\n    def test_orders_limit(api_client, x_task_value):\n        users_response = api_client.get_users(x_task_value, 0)\n        users_dto = Users(**users_response.json())\n    \n        user_uuid = users_dto.users[1].uuid\n    \n        games = api_client.get_games(x_task_value)\n        games_dto = GamesResponse(**games.json())\n        game_uuid = games_dto.games[0].uuid\n    \n        order_data = OrderItemList(items=[\n            OrderItem(item_uuid=game_uuid, quantity=1)\n        ])\n    \n        api_client.order_create(user_uuid, order_data.model_dump(), x_task_value)\n        api_client.order_create(user_uuid, order_data.model_dump(), x_task_value)\n        limit = 1\n        response = api_client.orders(user_uuid, limit, x_task_value)\n        orders = OrdersResponse(**response.json())\n>       assert len(orders.orders) == limit, f\"Was displayed {len(orders.orders)} orders instead of {limit}\"\nE       AssertionError: Was displayed 2 orders instead of 1\nE       assert 2 == 1\nE        +  where 2 = len([Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='028d36a6-e360-4abc-b524-41908f58c3e5'), Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='7af93ce0-9ff5-4073-aca7-14fbd8596f4d')])\nE        +    where [Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='028d36a6-e360-4abc-b524-41908f58c3e5'), Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='7af93ce0-9ff5-4073-aca7-14fbd8596f4d')] = OrdersResponse(meta=Meta(total=2), orders=[Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='028d36a6-e360-4abc-b524-41908f58c3e5'), Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='7af93ce0-9ff5-4073-aca7-14fbd8596f4d')]).orders\n\ntests/endpoints/test_orders.py:51: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1733084316289,"stop":1733084316291,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_test","time":{"start":1733084316291,"stop":1733084318653,"duration":2362},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_client","time":{"start":1733084316291,"stop":1733084316291,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1733084316291,"stop":1733084316291,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"worker_id","time":{"start":1733084316291,"stop":1733084316291,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Was displayed 2 orders instead of 1\nassert 2 == 1\n +  where 2 = len([Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='028d36a6-e360-4abc-b524-41908f58c3e5'), Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='7af93ce0-9ff5-4073-aca7-14fbd8596f4d')])\n +    where [Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='028d36a6-e360-4abc-b524-41908f58c3e5'), Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='7af93ce0-9ff5-4073-aca7-14fbd8596f4d')] = OrdersResponse(meta=Meta(total=2), orders=[Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='028d36a6-e360-4abc-b524-41908f58c3e5'), Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='7af93ce0-9ff5-4073-aca7-14fbd8596f4d')]).orders","statusTrace":"api_client = <api_handler.api_client.ApiClient object at 0x7fc9a7f75760>\nx_task_value = 'api-17'\n\n    @allure.feature(\"Orders API\")\n    @allure.story(\"Limit list user's orders\")\n    @pytest.mark.parametrize(\"x_task_value\", [\"api-17\"])\n    def test_orders_limit(api_client, x_task_value):\n        users_response = api_client.get_users(x_task_value, 0)\n        users_dto = Users(**users_response.json())\n    \n        user_uuid = users_dto.users[1].uuid\n    \n        games = api_client.get_games(x_task_value)\n        games_dto = GamesResponse(**games.json())\n        game_uuid = games_dto.games[0].uuid\n    \n        order_data = OrderItemList(items=[\n            OrderItem(item_uuid=game_uuid, quantity=1)\n        ])\n    \n        api_client.order_create(user_uuid, order_data.model_dump(), x_task_value)\n        api_client.order_create(user_uuid, order_data.model_dump(), x_task_value)\n        limit = 1\n        response = api_client.orders(user_uuid, limit, x_task_value)\n        orders = OrdersResponse(**response.json())\n>       assert len(orders.orders) == limit, f\"Was displayed {len(orders.orders)} orders instead of {limit}\"\nE       AssertionError: Was displayed 2 orders instead of 1\nE       assert 2 == 1\nE        +  where 2 = len([Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='028d36a6-e360-4abc-b524-41908f58c3e5'), Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='7af93ce0-9ff5-4073-aca7-14fbd8596f4d')])\nE        +    where [Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='028d36a6-e360-4abc-b524-41908f58c3e5'), Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='7af93ce0-9ff5-4073-aca7-14fbd8596f4d')] = OrdersResponse(meta=Meta(total=2), orders=[Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 45, 972138, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='028d36a6-e360-4abc-b524-41908f58c3e5'), Order(created_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), items=[ItemCart(item_uuid='1990ecdd-4d3d-4de2-91b9-d45d794c82bc', quantity=1, total_price=5999)], status='open', total_price=5999, updated_at=datetime.datetime(2024, 12, 1, 20, 18, 44, 927106, tzinfo=TzInfo(UTC)), user_uuid='1eb660b6-d441-4b3b-8d83-40cd60cf7508', uuid='7af93ce0-9ff5-4073-aca7-14fbd8596f4d')]).orders\n\ntests/endpoints/test_orders.py:51: AssertionError","steps":[],"attachments":[{"uid":"e725945cb8c66647","name":"log","source":"e725945cb8c66647.txt","type":"text/plain","size":5647},{"uid":"f960f90b09134493","name":"stderr","source":"f960f90b09134493.txt","type":"text/plain","size":5611}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_test::0","time":{"start":1733084333673,"stop":1733084333673,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Orders API"},{"name":"story","value":"Limit list user's orders"},{"name":"parentSuite","value":"tests.endpoints"},{"name":"suite","value":"test_orders"},{"name":"host","value":"fv-az1245-950"},{"name":"thread","value":"2636-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.endpoints.test_orders"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"x_task_value","value":"'api-17'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"4cbb0742e5094872.json","parameterValues":["'api-17'"]}