{"uid":"28035ae79da11ed8","name":"test_delete_item[api-14]","fullName":"tests.endpoints.test_cart#test_delete_item","historyId":"1a909f9f1a444796fad0de3351ed2305","time":{"start":1733072335572,"stop":1733072344211,"duration":8639},"status":"broken","statusMessage":"pydantic_core._pydantic_core.ValidationError: 2 validation errors for CartResponse\nitems\n  Field required [type=missing, input_value={'code': 500, 'message': 'Internal server error'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\ntotal_price\n  Field required [type=missing, input_value={'code': 500, 'message': 'Internal server error'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing","statusTrace":"api_client = <api_handler.ApiClient.ApiClient object at 0x7f746b2dd040>\nx_task_value = 'api-14'\n\n    @allure.feature(\"Cart API\")\n    @allure.story(\"Remove an item from cart\")\n    @pytest.mark.parametrize(\"x_task_value\", [\"api-14\"])\n    def test_delete_item(api_client, x_task_value):\n        games = api_client.get_games(x_task_value)\n        games_dto = GamesResponse(**games.json())\n        users_response = api_client.get_users(x_task_value, 0)\n        users_dto = Users(**users_response.json())\n    \n        user_uuid = users_dto.users[0].uuid\n    \n        first_cart_item = Cart(item_uuid=games_dto.games[0].uuid, quantity=1)\n        api_client.add_to_cart(user_uuid, first_cart_item, x_task_value)\n        second_cart_item = Cart(item_uuid=games_dto.games[1].uuid, quantity=1)\n        api_client.add_to_cart(user_uuid, second_cart_item, x_task_value)\n    \n        api_client.delete_item_cart(user_uuid, games_dto.games[0].uuid, x_task_value)\n    \n        response = api_client.get_cart(user_uuid, x_task_value)\n>       order_dto = CartResponse(**response.json())\nE       pydantic_core._pydantic_core.ValidationError: 2 validation errors for CartResponse\nE       items\nE         Field required [type=missing, input_value={'code': 500, 'message': 'Internal server error'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.9/v/missing\nE       total_price\nE         Field required [type=missing, input_value={'code': 500, 'message': 'Internal server error'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.9/v/missing\n\ntests/endpoints/test_cart.py:47: ValidationError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1733072330979,"stop":1733072330981,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"base_url","time":{"start":1733072330981,"stop":1733072330981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"api_client","time":{"start":1733072330981,"stop":1733072330981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"worker_id","time":{"start":1733072330982,"stop":1733072330982,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"setup_test","time":{"start":1733072330982,"stop":1733072333897,"duration":2915},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"status":"broken","statusMessage":"pydantic_core._pydantic_core.ValidationError: 2 validation errors for CartResponse\nitems\n  Field required [type=missing, input_value={'code': 500, 'message': 'Internal server error'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\ntotal_price\n  Field required [type=missing, input_value={'code': 500, 'message': 'Internal server error'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing","statusTrace":"api_client = <api_handler.ApiClient.ApiClient object at 0x7f746b2dd040>\nx_task_value = 'api-14'\n\n    @allure.feature(\"Cart API\")\n    @allure.story(\"Remove an item from cart\")\n    @pytest.mark.parametrize(\"x_task_value\", [\"api-14\"])\n    def test_delete_item(api_client, x_task_value):\n        games = api_client.get_games(x_task_value)\n        games_dto = GamesResponse(**games.json())\n        users_response = api_client.get_users(x_task_value, 0)\n        users_dto = Users(**users_response.json())\n    \n        user_uuid = users_dto.users[0].uuid\n    \n        first_cart_item = Cart(item_uuid=games_dto.games[0].uuid, quantity=1)\n        api_client.add_to_cart(user_uuid, first_cart_item, x_task_value)\n        second_cart_item = Cart(item_uuid=games_dto.games[1].uuid, quantity=1)\n        api_client.add_to_cart(user_uuid, second_cart_item, x_task_value)\n    \n        api_client.delete_item_cart(user_uuid, games_dto.games[0].uuid, x_task_value)\n    \n        response = api_client.get_cart(user_uuid, x_task_value)\n>       order_dto = CartResponse(**response.json())\nE       pydantic_core._pydantic_core.ValidationError: 2 validation errors for CartResponse\nE       items\nE         Field required [type=missing, input_value={'code': 500, 'message': 'Internal server error'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.9/v/missing\nE       total_price\nE         Field required [type=missing, input_value={'code': 500, 'message': 'Internal server error'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.9/v/missing\n\ntests/endpoints/test_cart.py:47: ValidationError","steps":[],"attachments":[{"uid":"556c5ac985b91bdc","name":"log","source":"556c5ac985b91bdc.txt","type":"text/plain","size":4957},{"uid":"bf05b7d7a6b1d22","name":"stderr","source":"bf05b7d7a6b1d22.txt","type":"text/plain","size":4925}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"setup_test::0","time":{"start":1733072346665,"stop":1733072346665,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"story","value":"Remove an item from cart"},{"name":"feature","value":"Cart API"},{"name":"parentSuite","value":"tests.endpoints"},{"name":"suite","value":"test_cart"},{"name":"host","value":"fv-az883-496"},{"name":"thread","value":"2334-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.endpoints.test_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"x_task_value","value":"'api-14'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"28035ae79da11ed8.json","parameterValues":["'api-14'"]}